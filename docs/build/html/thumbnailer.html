<!DOCTYPE html public "display of awesomeness">
<html>
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Thumbnailer class – Moar Thumbnails documentation</title>

<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="shortcut icon" type="image/x-icon" href="/static/favicon.ico" />
<script src="static/scripts/jquery1.7.1.min.js"></script>
<!--[if (gte IE 6)&(lte IE 8)]>
<script src="/static/scripts/selectivizr.js"></script>
<![endif]-->
<link href="static/styles/main.css" rel="stylesheet" />
<link href="static/styles/pygments.css" rel="stylesheet" />
<script src="static/scripts/modernizr2.js"></script>

</head>
<body>

<nav id="nav">
  <header>
    <a href="/" id="logo">Moar Thumbnails documentation</a>
  </header>
  <div class="sections">
  
  </div>
  <footer>
    <div class="✓">Powered by <a href="http://claydocs.lucumalabs.com">ClayDocs</a></div>
  </footer>
</nav>

<div id="content">

<section class="content page">
  <h1>Thumbnailer class</h1>

<p>Syntax:</p>

<div class="highlight"><pre><span class="kn">from</span> <span class="nn">moar</span> <span class="kn">import</span> <span class="n">Thumbnailer</span>

<span class="n">thumbnail</span> <span class="o">=</span> <span class="n">Thumbnailer</span><span class="p">([</span><span class="n">engine</span><span class="p">],</span> <span class="p">[</span><span class="n">storage</span><span class="p">],</span> <span class="p">[</span><span class="n">filters</span><span class="o">=</span><span class="n">extra_filters</span><span class="p">],</span> <span class="p">[</span><span class="o">**</span><span class="n">default_options</span><span class="p">])</span>
</pre></div>


<p>MoarThumbnails come with support for pluggable engines and storages. By default it use <code>moar.engines.pil.Engine</code> and <code>moar.storages.filesystem.Storage</code>.</p>

<p>When you call the thumbnail instance, the current storage class will generates a key that represent a thumbnail made from that image with that specific filters and options. If a thumbnail with that key hasn&rsquo;t been generated before, it&rsquo;ll make a new one, store it using the key as an id, and returns it.</p>

<p>The default storage class (<code>moar.storages.filesystem.Storage</code>) store the generated thumbnails inside a <code>thumbs</code> folder in the same path as the source image. Other storages will operate different, for example, storing the key in a local database and uploading the thumbnail to a remote server.</p>

<h3>Filters</h3>

<p>You can use the <code>filters</code> parameter to define a list of custom filters, adding them to those included by default.</p>

<p>e.g.:</p>

<div class="highlight"><pre><span class="kn">from</span> <span class="nn">image_filters</span> <span class="kn">import</span> <span class="n">watermak</span><span class="p">,</span> <span class="n">enhace</span>

<span class="n">thumbnail</span> <span class="o">=</span> <span class="n">Thumbnailer</span><span class="p">(</span><span class="n">filters</span><span class="o">=</span><span class="p">[</span><span class="n">watermak</span><span class="p">,</span> <span class="n">enhace</span><span class="p">])</span>
</pre></div>


<p>Note: The filters has to have a method named after the current engine (eg: <code>pgmagick</code> or <code>pil</code>) or the&rsquo;ll be unusable. See the &ldquo;<a href="extending.html#filters">extending the library</a>&rdquo; section for more details.</p>

<h3>Default Options</h3>

<p>These options are the default for all thumbnails. However, they can be overwritten in individual <code>thumbnail</code> calls.</p>

<h4>upscale</h4>

<p>Upscale is a boolean that controls if the image can be upscaled or not. For example if your source is <code>100x100</code> and you request a thumbnail of size <code>200x200</code> and upscale is <code>False</code> this will return a thumbnail of size 100x100. If upscale were <code>True</code> this would result in a thumbnail size <code>200x200</code> (upscaled). The default value is <code>True</code>.</p>

<h4>quality</h4>

<p>When the output format is jpeg, quality is a value between 0-100 that controls the thumbnail write quality. Default value is <code>90</code>.</p>

<h4>progressive</h4>

<p>This controls whether to save jpeg thumbnails as progressive jpegs. Default value is <code>True</code>.</p>

<h4>orientation</h4>

<p>This controls whether to orientate the resulting thumbnail with respect to the source EXIF tags for orientation. Default value is <code>True</code>.</p>

<h4>format</h4>

<p>This controls the write format and thumbnail extension. Formats supported by the shipped engines are <code>'JPEG'</code> and <code>'PNG'</code>. Default value is <code>'JPEG'</code>.</p>

<h4>resize</h4>

<p>When setting the new geometry, this controls if the image is deformed to match exactly the given dimensions, regardless of the aspect ratio of the original image. If <code>resize</code> is <code>True</code>, the <code>upscale</code> option is ignored. Default value is <code>False</code>.</p>

</section>
<!-- .content .page -->

</div>
<!-- .content -->

<script src="static/scripts/main.js"></script>
</body>
</html>