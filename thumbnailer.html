<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width" />
<title>Thumbnailer class | Moar thumbnails</title>
<link href="styles/main.css"" rel="stylesheet" />
</head>
<body>
<header>
  <div class="wrap">
    <ul id="ghbuttons" class="button-list">
      <li><a href="https://github.com/lucuma/moar/zipball/master">Download <strong><span class="caps">ZIP</span>&nbsp;File</strong></a></li>
      <li><a href="https://github.com/lucuma/moar/tarball/master">Download <strong><span class="caps">TAR</span>&nbsp;Ball</strong></a></li>
      <li><a href="https://github.com/lucuma/moar">Fork On <strong>GitHub</strong></a></li>
    </ul>

    <h1><a href="index.html">Moar thumbnails <small>v. 0.4</small></a></h1>

    <br class="clearfix">
  </div>
</header>

<div id="content" class="wrap">
  <section class="main">
    <h1 id="thumbnailer-class"><a class="toclink" href="#thumbnailer-class">Thumbnailer&nbsp;class</a></h1>
<p>Syntax:</p>
<p><div class="highlight python"><pre><span class="kn">from</span> <span class="nn">moar</span> <span class="kn">import</span> <span class="n">Thumbnailer</span>

<span class="n">thumbnail</span> <span class="o">=</span> <span class="n">Thumbnailer</span><span class="p">([</span><span class="n">engine</span><span class="p">],</span> <span class="p">[</span><span class="n">storage</span><span class="p">],</span>
                <span class="p">[</span><span class="n">filters</span><span class="o">=</span><span class="n">extra_filters</span><span class="p">],</span> <span class="p">[</span><span class="o">**</span><span class="n">default_options</span><span class="p">])</span>
</pre></div>
</p>
<p>Moar come with support for pluggable engines and storages. By default it use <code>moar.engines.pil.Engine</code> and <code>moar.storages.filesystem.Storage</code>.</p>
<p>When you call the thumbnail instance, the current storage class will generates a key that represent a thumbnail made from that image with that specific filters and options. If a thumbnail with that key hasn&#8217;t been generated before, it&#8217;ll make a new one, store it using the key as an id, and returns&nbsp;it.</p>
<p>The default storage class (<code>moar.storages.filesystem.Storage</code>) store the generated thumbnails inside a <code>"t"</code> folder in the same path as the source image (this can be changed). Other storages will operate different, for example, storing the key in a local database and uploading the thumbnail to a remote&nbsp;server.</p>
<h2 id="filters"><a class="toclink" href="#filters">Filters</a></h2>
<p>You can use the <code>filters</code> parameter to define a list of custom filters, adding them to those included by default.&nbsp;E.g.:</p>
<p><div class="highlight python"><pre><span class="kn">from</span> <span class="nn">image_filters</span> <span class="kn">import</span> <span class="n">watermak</span><span class="p">,</span> <span class="n">enhace</span>

<span class="n">thumbnail</span> <span class="o">=</span> <span class="n">Thumbnailer</span><span class="p">(</span><span class="n">filters</span><span class="o">=</span><span class="p">[</span><span class="n">watermak</span><span class="p">,</span> <span class="n">enhace</span><span class="p">])</span>
</pre></div>
</p>
<div class=note>

<p>The filters has to have a method named after the current engine (eg: <code>"wand"</code> or <code>"pil"</code>) or the&#8217;ll be unusable. See the &#8220;<a href="extending.html#filters">extending the library</a>&#8221; section for more&nbsp;details.</p>
</div>

<h2 id="default-options"><a class="toclink" href="#default-options">Default&nbsp;Options</a></h2>
<p>These options are the default for all thumbnails. However, they can be overwritten in individual <code>thumbnail</code> calls.</p>
<p><dl>
<dt>upscale</dt>
<dd>Upscale is a boolean that controls if the image can be upscaled or not. For example if your source is <code>"100x100"</code> and you request a thumbnail of size <code>"200x200"</code> and upscale is <code>False</code> this will return a thumbnail of size 100x100. If upscale were <code>True</code> this would result in a thumbnail size <code>"200x200"</code> (upscaled). The default value is <code>True</code>.</dd>
<dt>quality</dt>
<dd>When the output format is jpeg, quality is a value between 0-100 that controls the thumbnail write quality. Default value is <code>90</code>.</dd>
<dt>progressive</dt>
<dd>This controls whether to save jpeg thumbnails as progressive jpegs. Default value is <code>True</code>.</dd>
<dt>orientation</dt>
<dd>This controls whether to orientate the resulting thumbnail with respect to the source <span class="caps">EXIF</span> tags for orientation. Default value is <code>True</code>.</dd>
<dt>format</dt>
<dd>This controls the write format and thumbnail extension. Formats supported by the shipped engines are <code>"JPEG"</code> and <code>"PNG"</code>. Default value is <code>"JPEG"</code>.</dd>
<dt>resize</dt>
<dd>When setting the new geometry, this controls if the image is deformed to match exactly the given dimensions, regardless of the aspect ratio of the original image. If <code>resize</code> is <code>True</code>, the <code>upscale</code> option is ignored. Default value is <code>False</code>.</dd>
</dl></p>
  </section>

  <nav id="sidebar">
    <div class="main-toc">
    <h1 class="toc-title">Table of&nbsp;contents</h1>
    <ul>
<li><a href="index.html"">About</a></li>
<li><a href="installation.html"">Installation</a></li>
<li><a href="quickstart.html"">Quickstart</a></li>
<li><a href="thumbnail.html"">The &#8220;thumbnail&#8221;&nbsp;function</a></li>
<li><a href="thumbnailer.html"">Thumbnailer&nbsp;options</a></li>
<li><a href="extending.html"">Extending the&nbsp;library</a></li>
</ul>
    </div>

    <div class="page-toc">
    <ul class="toc"><li><a href="#thumbnailer-class">Thumbnailer class</a><ul><li><a href="#filters">Filters</a></li><li><a href="#default-options">Default&nbsp;Options</a></li></ul></li></ul>
    </div>

    <p id="ghwatch">
    <iframe src="http://markdotto.github.com/github-buttons/github-btn.html?user=lucuma&amp;repo=moar&amp;type=watch&amp;count=true&amp;size=large"
      allowtransparency="true" frameborder="0" scrolling="0" width="150px" height="35px"></iframe>
    </p>
  </nav>

  <footer>
  <p class="copy">© Copyright 2012, Lúcuma labs. Developed by Juan-Pablo Scaletti.<br>
    Published with <a href="http://lucuma.github.com/Clay/" target="_blank">Clay</a>.</p>
  </footer>
</div>
<!-- #content -->

<!--a href="https://github.com/lucuma/moar" id="forkme" title="Fork me on GitHub"></a-->
<script src="scripts/main.js""></script>
</body>
</html>